(function(e){function t(t){for(var i,r,o=t[0],c=t[1],l=t[2],m=0,d=[];m<o.length;m++)r=o[m],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(i=!1)}i&&(s.splice(t--,1),e=r(r.s=a[0]))}return e}var i={},n={app:0},s=[];function r(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=i,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(a,i,function(t){return e[t]}.bind(null,i));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/movie_factory/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"01d9":function(e,t,a){},"034f":function(e,t,a){"use strict";a("85ec")},"05c3":function(e,t,a){},"05fa":function(e,t,a){},"09fa":function(e,t,a){},"1a97":function(e,t,a){"use strict";a("d650")},2967:function(e,t,a){"use strict";a("fec7")},4360:function(e,t,a){"use strict";(function(e){a("fb6a"),a("a434"),a("d3b7"),a("ac1f"),a("25f0"),a("1276");var i=a("5530"),n=(a("96cf"),a("1da1")),s=a("2b0e"),r=a("2f62"),o=a("bc3a"),c=a.n(o);s["default"].use(r["a"]),t["a"]=new r["a"].Store({state:{cast:[],selectedFilm:{},isFavoriteFilm:!1,isSeenFilm:!1,getAllUser:[],seenDuration:0,selectedActor:{},videoPath:"",filmSpec:{},login:{getLoginURL:"https://the-movie-factory-api.herokuapp.com/user/login",getLoggedUser:{},getFavorite:[],getSeen:[]},popularFilm:[],categories:[]},mutations:{selectUser:function(e,t){e.login.getLoggedUser=t.data,e.login.getFavorite=t.data.favorite,e.login.getSeen=t.data.seen},toggleFavorite:function(e,t){e.isFavoriteFilm=!e.isFavoriteFilm},toggleSeenFilm:function(e,t){e.isSeenFilm=!e.isSeenFilm},fetchAllUser:function(e,t){e.getAllUser=t},addPopularFilm:function(e,t){e.popularFilm=t},addCategories:function(e,t){e.categories=t},addOneFilm:function(e,t){e.selectedFilm=t},addCast:function(e,t){e.cast=t},addPath:function(e,t){e.videoPath=t},addFilmSpec:function(e,t){e.filmSpec=t},addToFavorite:function(e,t){e.login.getFavorite.push(t)},removeFavorite:function(e,t){for(var a=t.id,i=0;i<e.login.getFavorite.length;i++)e.login.getFavorite[i].id==a&&e.login.getFavorite.splice(i,1)},addToSeen:function(e,t){e.login.getSeen.push(t)},removeSeen:function(e,t){for(var a=t.id,i=0;i<e.login.getSeen.length;i++)e.login.getSeen[i].id==a&&e.login.getSeen.splice(i,1)}},actions:{fetchUser:function(t,a){var i,s=a.email,r=a.password,o=a.router;c.a.post(this.state.login.getLoginURL,{email:s,password:r}).then(function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(n){var s,r,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.data;case 2:s=a.sent,r=s.token,c=r.split(".")[1],l=e.from(c,"base64"),i=JSON.parse(l.toString()),t.commit("selectUser",i),o.push("/home");case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch()},fetchPopularFilm:function(e,t){e.commit("addPopularFilm",t)},fetchCategories:function(e,t){e.commit("addCategories",t)},addFilm:function(e,t){c.a.get("https://the-movie-factory-api.herokuapp.com/api/movie/spec/".concat(t.id)).then(function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(s){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:c.a.get("https://the-movie-factory-api.herokuapp.com/api/movie/credits/".concat(t.id)).then(function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(r){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r.data.cast=r.data.cast.slice(0,5),c.a.get("https://the-movie-factory-api.herokuapp.com/api/movie/video/".concat(t.id)).then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.data.results[0].key;case 2:if(t.t0=t.sent,"https://www.youtube.com/embed/"+t.t0,"YouTube"!=a.data.results[0].site){t.next=10;break}return n=Object(i["a"])(Object(i["a"])(Object(i["a"])({},s.data),r.data),a.data),t.next=8,e.commit("addOneFilm",n);case 8:t.next=13;break;case 10:return o=Object(i["a"])(Object(i["a"])({},s.data),r.data),t.next=13,e.commit("addOneFilm",o);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){return e}))},fetchCast:function(e,t){e.commit("addCast",t)},fetchVideoPath:function(e,t){e.commit("addPath",t)},fetchFilmSpec:function(e,t){e.commit("addFilmSpec",t)}},modules:{},getter:{}})}).call(this,a("b639").Buffer)},5033:function(e,t,a){"use strict";a("01d9")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"app"}},[a("router-view")],1)},s=[],r={name:"App",components:{}},o=r,c=(a("034f"),a("2877")),l=Object(c["a"])(o,n,s,!1,null,null,null),u=l.exports,m=a("8c4f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("Navbar"),a("div",{staticClass:"row contentPage"},[a("Menu",{staticClass:"col-2"}),a("Main",{staticClass:"col-10"})],1)],1)},p=[],h=(a("96cf"),a("1da1")),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"leftMenu",attrs:{id:"sidebar"}},[e._m(0),a("button",{staticClass:"dropdown-toggle leftFilter bg-secondary text-light",attrs:{href:"#catFilm","data-toggle":"collapse","aria-expanded":"false"}},[e._v(" Categories ")]),a("ul",{staticClass:"collapse list-unstyled",attrs:{id:"catFilm"}},e._l(e.categories.genres,(function(e,t){return a("menu-link",{key:t,staticClass:"catMenu genres",attrs:{name:e.name,id:e.id}})})),1),a("button",{staticClass:"dropdown-toggle leftFilter bg-secondary text-light",attrs:{href:"#yearFilm","data-toggle":"collapse","aria-expanded":"false"}},[e._v(" Year ")]),a("ul",{staticClass:"collapse list-unstyled",attrs:{id:"yearFilm"}},[a("menu-link",{attrs:{name:"2021"}}),a("menu-link",{attrs:{name:"2020"}}),a("menu-link",{attrs:{name:"2019"}}),a("menu-link",{attrs:{name:"2018"}}),a("menu-link",{attrs:{name:"2017"}})],1)])},g=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar-header"},[a("h3",[e._v("Filter:")])])}],v=a("5530"),b=a("2f62"),_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"col-12 mb-2 cat",on:{click:function(t){return e.handleClick()}}},[e._v(e._s(e.name))])},C=[],y=(a("b0c0"),a("bc3a")),w=a.n(y),F={name:"MenuLink",computed:Object(v["a"])({},Object(b["b"])(["login","categories"])),props:["name","id"],methods:{handleClick:function(){var e=this;parseInt(this.name,10)>=2017&&parseInt(this.name,10)<=2021?w.a.get("https://the-movie-factory-api.herokuapp.com/api/movie/year/".concat(parseInt(this.name,10))).then(function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.data;case 2:i=t.sent,e.$store.dispatch("fetchPopularFilm",i);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e)})):w.a.get("https://the-movie-factory-api.herokuapp.com/api/movie/genre/".concat(this.id)).then(function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.data;case 2:i=t.sent,e.$store.dispatch("fetchPopularFilm",i);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))}}},k=F,E=(a("bdd8"),Object(c["a"])(k,_,C,!1,null,"554eb2b0",null)),x=E.exports,P={components:{MenuLink:x},name:"Menu",computed:Object(v["a"])({},Object(b["b"])(["login","categories"]))},O=P,j=(a("f6a1"),Object(c["a"])(O,f,g,!1,null,"02058b47",null)),$=j.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",{staticClass:"navMenu container sticky-top"},[i("div",{staticClass:"headerTitle"},[i("img",{attrs:{src:a("89fd"),alt:"logo",id:"logo"}}),i("h1",[e._v("The Movie Factory")]),"home"==this.$route.name?i("search-bar"):e._e()],1),i("ul",{staticClass:"mainMenu bg-dark"},[i("li",{on:{click:function(t){return e.getPopular()}}},[e._v("home")]),i("li",{on:{click:function(t){return e.getCommunityPage()}}},[e._v("Community")]),i("li",{on:{click:function(t){return e.getProfilPage()}}},[e._v(" "+e._s(e.login.getLoggedUser.username)+" ")])])])},R=[],L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"searchBar"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],staticClass:"search",attrs:{type:"text",placeholder:"search..."},domProps:{value:e.searchValue},on:{input:function(t){t.target.composing||(e.searchValue=t.target.value)}}}),a("button",{on:{click:function(t){return e.handleFind()}}},[e._v("Find")]),a("button",{staticClass:"btn-danger",on:{click:function(t){return e.handleLogout()}}},[e._v("log out")])])},U=[],M={name:"SearchBar",data:function(){return{searchValue:""}},computed:Object(v["a"])({},Object(b["b"])(["login","categories"])),methods:{handleLogout:function(){this.$store.dispatch("fetchUser",{}),this.$router.push("/")},handleFind:function(){var e=this;w.a.get("https://the-movie-factory-api.herokuapp.com/api/movie/title/".concat(this.searchValue)).then(function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.data;case 2:i=t.sent,e.$store.dispatch("fetchPopularFilm",i),"home"!=e.$route.name&&e.$router.push("/home");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))}}},I=M,V=(a("592a"),Object(c["a"])(I,L,U,!1,null,"341ed0ca",null)),T=V.exports,A={components:{SearchBar:T},data:function(){return{notLogged:"not logged"}},name:"NavBar",computed:Object(v["a"])({},Object(b["b"])(["login"])),methods:{getPopular:function(){var e=this;w.a.get("https://the-movie-factory-api.herokuapp.com/api/movie/").then(function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.data;case 2:i=t.sent,e.$store.dispatch("fetchPopularFilm",i),"home"!=e.$route.name&&e.$router.push("/home");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))},getProfilPage:function(){"profil"!=this.$route.name&&this.$router.push("/profil")},getCommunityPage:function(){var e=this;w.a.get("https://the-movie-factory-api.herokuapp.com/user/alluser").then(function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.data;case 2:i=t.sent,e.$store.commit("fetchAllUser",i),"community"!=e.$route.name&&e.$router.push("/community");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return e}))}}},N=A,B=(a("6333"),Object(c["a"])(N,S,R,!1,null,"04faa91c",null)),D=B.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mainContent row"},e._l(e.popularFilm.results,(function(e,t){return a("movie-card",{key:t,staticClass:"homeFilmCard col-6 p-0 m-0",attrs:{title:e.title,film:e,description:e.overview,vote:e.vote_average,path:e.poster_path,compPath:"/home"}})})),1)},q=[],H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row p-1 m-0 movieCard",on:{click:function(t){return e.selectFilm(e.film)}}},[a("div",{staticClass:"col-4 p-0"},[e.path?a("img",{staticClass:"moviePict",attrs:{src:"https://image.tmdb.org/t/p/w200/"+e.path,alt:"picture"}}):e._e()]),a("div",{staticClass:"col-8"},[a("div",{staticClass:"card-body p-2 cardBody"},[a("h5",{staticClass:"card-title"},[e._v(" "+e._s(e.title.slice(0,20)+(e.title.length>=20?"...":""))+" ")]),a("p",{staticClass:"card-text describe"},[e._v(" "+e._s(e.description.slice(0,100)+(e.description.length>=100?"...":""))+" ")]),a("p",{staticClass:"card-text"},[a("small",{staticClass:"text-muted vote"},[e._v("vote average: "+e._s(e.vote))])])])])])},J=[],Z={name:"MovieCard",components:{},methods:{selectFilm:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=4;break}return a.next=3,t.$store.dispatch("addFilm",e);case 3:"/film"!==t.$route.path&&t.$router.push("/film");case 4:case"end":return a.stop()}}),a)})))()}},props:["title","description","vote","path","film","isActive"]},W=Z,Y=(a("2967"),Object(c["a"])(W,H,J,!1,null,"38ab0b1a",null)),G=Y.exports,K={components:{MovieCard:G},name:"Main",computed:Object(v["a"])({},Object(b["b"])(["popularFilm"])),methods:{}},Q=K,X=(a("1a97"),Object(c["a"])(Q,z,q,!1,null,"2b6d9a4c",null)),ee=X.exports,te={name:"Home",beforeMount:function(){var e=this;w.a.get("https://the-movie-factory-api.herokuapp.com/api/movie/categories").then(function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.data;case 2:i=t.sent,e.$store.dispatch("fetchCategories",i);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e)})),w.a.get("https://the-movie-factory-api.herokuapp.com/api/movie/").then(function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.data;case 2:i=t.sent,e.$store.dispatch("fetchPopularFilm",i);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))},components:{Navbar:D,Menu:$,Main:ee}},ae=te,ie=(a("7cb2"),Object(c["a"])(ae,d,p,!1,null,"1ce2c0ec",null)),ne=ie.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("LoginForm")],1)},re=[],oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"LoginForm login-box"},[e._m(0),a("div",{staticClass:"login"},[a("form",{attrs:{action:""}},[a("div",{staticClass:"form-group log"},[a("label",{staticClass:"form-control-label",style:{color:e.emailColor}},[e._v(e._s(e.labelEmail))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e.forgot?e._e():a("div",{staticClass:"form-group log"},[a("label",{staticClass:"form-control-label",style:{color:e.passwordColor}},[e._v(e._s(e.labelPassword))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e.signup?a("div",{staticClass:"form-group log"},[a("label",{staticClass:"form-control-label",style:{color:e.passwordColor}},[e._v("username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]):e._e(),!e.forgot&e.reset?a("div",{staticClass:"form-group log"},[a("label",{staticClass:"form-control-label",style:{color:e.passwordColor}},[e._v("new "+e._s(e.labelPassword))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}})]):e._e(),a("div",{staticClass:"reset d-flex justify-content-center"},[a("span",{staticClass:"btn",on:{click:function(t){return e.handleSignup()}}},[e._v(" New account")]),a("button",{staticClass:"btn",attrs:{type:"button","data-toggle":"modal","data-target":"#staticBackdrop"}},[e._v(" Forgot password ")])]),a("div",{staticClass:"boutons"},[e.reset||e.signup||e.forgot?e._e():a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.handleClick()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleClick()}}},[e._v(" Login ")]),e.forgot|e.signup|e.reset?a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.handleCancel()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleCancel()}}},[e._v(" Cancel ")]):e._e(),e.signup?a("button",{staticClass:"btn btn-outline-success",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.signups()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signups()}}},[e._v(" Sign Up ")]):e._e()])])]),a("div",{staticClass:"loginFooter"},[a("div",{staticClass:"testimonial-quote right"},[a("div",{staticClass:"quote-container"},[a("div",[a("blockquote",[e.forgot||e.reset||e.signup?e._e():a("p",[e._v("Le bouton rouge Régis")]),e.forgot?a("p",[e._v("Le bouton bleu Régis")]):e._e(),e.reset?a("p",[e._v("Le bouton jaune Régis")]):e._e(),e.signup?a("p",[e._v("Le bouton vert Régis")]):e._e()]),e._m(1)])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"staticBackdrop","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(2),a("div",{staticClass:"modal-body d-flex justify-content-center pb-0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.forgotInput,expression:"forgotInput"}],staticClass:"pb-0 mb-0",attrs:{type:"text",placeholder:"regis@mail.fr",required:""},domProps:{value:e.forgotInput},on:{input:function(t){t.target.composing||(e.forgotInput=t.target.value)}}})]),e.isForgot?a("div",[a("mailer-component",{attrs:{recipientEmail:this.recipientEmail}})],1):e._e(),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v(" Cancel ")]),a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.handleForgot()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleForgot()}}},[e._v(" Send reset email ")])])])])])])},ce=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"loginHeader"},[i("img",{staticClass:"logo",attrs:{src:a("886c"),alt:"logo"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("cite",[a("span",[e._v("-La cité de la peur-")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"staticBackdropLabel"}},[e._v(" Forgot password ")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],le=(a("4d63"),a("ac1f"),a("25f0"),a("498a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e._v(" "+e._s(e.recipientEmail)+" ")]),e.sent?a("span",{staticClass:"text-success"},[e._v("Message sent to "+e._s(e.recipientEmail)+" ! Please check your inbox")]):a("span",{staticClass:"text-danger"},[e._v("An error occured")])])}),ue=[],me={name:"MailerComponent",props:["recipientEmail"],data:function(){return{sent:!1}},methods:{emailToReset:function(){var e=this;w.a.post("https://the-movie-factory-api.herokuapp.com/user/forgot",{recipientEmail:this.recipientEmail}).then((function(t){t.data&&(e.sent=!0),console.log("Front: Réponse recue: "+t.data)})).catch((function(e){return console.log("Front: Catch: "+e)}))}},created:function(){this.emailToReset()}},de=me,pe=Object(c["a"])(de,le,ue,!1,null,null,null),he=pe.exports,fe={components:{MailerComponent:he},name:"LoginForm",props:{},data:function(){return{isEmailEmpty:!0,isEmailValid:!1,isPasswordEmpty:!0,forgot:!1,reset:!1,signup:!1,username:"",email:"",isForgot:!1,forgotInput:"",recipientEmail:"",newPassword:"",password:"",serveurMessage:"",labelEmail:"Email",emailColor:"#6c6c6c",labelPassword:"Password",passwordColor:"#6c6c6C"}},computed:Object(v["a"])({},Object(b["b"])(["login"])),methods:{handleForgot:function(){this.isForgot=!0,this.recipientEmail=this.forgotInput,this.forgotInput=""},handleClick:function(){this.login.getLoginURL;this.checkIsEmailEmpty(this.email),this.isEmailEmpty||(this.checkIsEmailValid(this.email),this.isEmailValid&&(this.checkIsPasswordEmpty(this.password),this.isPasswordEmpty||this.$store.dispatch("fetchUser",{email:this.email,password:this.password,router:this.$router})))},resetPassword:function(){this.reset=!0,this.forgot=!1,this.signup=!1,this.checkIsEmailEmpty(this.email),this.isEmailEmpty||(this.checkIsEmailValid(this.email),this.isEmailValid)},forgotPassword:function(){this.forgot=!0,this.signup=!1,this.reset=!1,this.checkIsEmailEmpty(this.email),this.isEmailEmpty||(this.checkIsEmailValid(this.email),this.isEmailValid)},handleSignup:function(){this.signup=!0,this.reset=!1,this.forgot=!1},signups:function(){var e=this;this.checkIsEmailEmpty(this.email),this.isEmailEmpty||(this.checkIsEmailValid(this.email),this.isEmailValid&&(this.checkIsPasswordEmpty(this.password),this.isPasswordEmpty||w.a.post("https://the-movie-factory-api.herokuapp.com/user/signup",{email:this.email,password:this.password,username:this.username}).then((function(t){"email déja utilisé"==t.data&&(e.username=t.data+" Régis",setTimeout((function(){return e.username=""}),2e3))})).catch((function(e){return console.log(e)}))))},sendMail:function(){var e=this;this.checkIsEmailEmpty(this.email),this.isEmailEmpty||(this.checkIsEmailValid(this.email),this.isEmailValid&&(this.serveurMessage="Un email de réinitialisation vient d'être envoyé",setTimeout((function(){e.serveurMessage="",e.signup=!1,e.reset=!1,e.forgot=!1}),2e3)))},handleCancel:function(){this.signup=!1,this.reset=!1,this.forgot=!1},declinePassword:function(){var e=this;this.passwordColor="red",this.labelPassword="Mot de passe incorrect",setTimeout((function(){e.labelPassword="Password",e.passwordColor="#6c6c6c",e.password=""}),2500)},checkIsEmailEmpty:function(e){var t=this;""===e.trim()?(this.emailColor="red",this.labelEmail="Veuillez renseigner une adresse email svp",setTimeout((function(){t.labelEmail="Email",t.emailColor="#6c6c6c",t.email=""}),2500)):this.isEmailEmpty=!1},checkIsEmailValid:function(e){var t=this,a=new RegExp("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+[.][a-zA-Z0-9-.]+$");a.test(e)?this.isEmailValid=!0:(this.emailColor="red",this.labelEmail="Veuillez renseigner une adresse email valide",setTimeout((function(){t.labelEmail="Email",t.emailColor="#6c6c6c",t.email=""}),2500))},checkIsPasswordEmpty:function(e){var t=this;""===e.trim()?(this.passwordColor="red",this.labelPassword="Veuillez renseigner un mot de passe",setTimeout((function(){t.labelPassword="Password",t.passwordColor="#6c6c6c",e=""}),2500)):this.isPasswordEmpty=!1}}},ge=fe,ve=(a("a283"),Object(c["a"])(ge,oe,ce,!1,null,"4a807752",null)),be=ve.exports,_e={components:{LoginForm:be}},Ce=_e,ye=Object(c["a"])(Ce,se,re,!1,null,"10b09631",null),we=ye.exports,Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("navbar"),a("div",{staticClass:"selectedFilm"},[a("div",{attrs:{id:"filmHeader"}},[a("h2",[e._v(e._s(e.selectedFilm.title))])]),a("div",{attrs:{id:"selectedFilm"}},[a("div",{staticClass:"selectedFilmPicture"},[a("img",{staticClass:"moviePict",attrs:{src:"https://image.tmdb.org/t/p/w400/"+e.selectedFilm.poster_path,alt:"picture"}})]),a("div",{staticClass:"selectedFilmDescribe"},[e.selectedFilm.results&&e.selectedFilm.results[0].key?a("iframe",{attrs:{width:"480",height:"320",src:e.$data.youtubePath+e.selectedFilm.results[0].key,frameborder:"0",allowfullscreen:""}}):e._e(),a("p",[e._v(e._s(e.selectedFilm.overview)+" $")])])]),a("div",{attrs:{id:"filmFooter"}},[a("p",[a("span",[e._v(" Favorite ")]),e.isFavoriteFilm?e._e():a("span",{staticClass:"badge badge-success badges",on:{click:function(t){return e.addFavorite(e.selectedFilm)}}},[e._v("Add")]),e.isFavoriteFilm?a("span",{staticClass:"badge badge-danger badges",on:{click:function(t){return e.addFavorite(e.selectedFilm)}}},[e._v("Remove")]):e._e(),a("span",[e._v(" Seen")]),e.isSeenFilm?e._e():a("span",{staticClass:"badge badge-success",on:{click:function(t){return e.addToSeen(e.selectedFilm)}}},[e._v("Add")]),e.isSeenFilm?a("span",{staticClass:"badge badge-danger",on:{click:function(t){return e.addToSeen(e.selectedFilm)}}},[e._v("Remove")]):e._e()]),a("p",[e._v(" Gain: "),a("span",{staticClass:"badge badge-info"},[e._v(" "+e._s(new Intl.NumberFormat("de-DE",{style:"currency",currency:"USD",maximumSignificantDigits:1}).format(e.selectedFilm.revenue-e.selectedFilm.budget))+" ")]),e._v(" Runtime:"),a("span",{staticClass:"badge badge-info"},[e._v(" "+e._s(e.selectedFilm.runtime))]),e._v("mn ")]),a("p",e._l(e.selectedFilm.genres,(function(t,i){return a("span",{key:i},[e._v(" -"+e._s(t.name)+"- ")])})),0),e.selectedFilm.homepage?a("p",[a("a",{attrs:{href:e.selectedFilm.homepage}},[e._v("Official Home Page")])]):e._e(),a("p",[e._v(" popularity:"),a("span",{staticClass:"badge badge-warning"},[e._v(" "+e._s(e.selectedFilm.popularity))]),e._v(" release: "),a("span",{staticClass:"badge badge-warning"},[e._v(e._s(e.selectedFilm.release_date)+" ")]),e._v(" vote average: "),a("span",{staticClass:"badge badge-warning"},[e._v(e._s(e.selectedFilm.vote_average))]),e._v(" vote count: "),a("span",{staticClass:"badge badge-warning"},[e._v(e._s(e.selectedFilm.vote_count))])])]),a("div",{staticClass:"actorList"},e._l(e.selectedFilm.cast,(function(t,i){return a("div",{key:i,on:{click:function(a){return e.handleActor(t.id)}}},[a("img",{staticClass:"photoActor",attrs:{src:"https://image.tmdb.org/t/p/w200/"+t.profile_path,alt:"photo"}}),a("h4",[e._v(e._s(t.name))]),a("p",[e._v("popularity: "+e._s(t.popularity))])])})),0),e.actorsFilm.length?a("splide",{staticClass:"filmList",attrs:{options:e.options}},e._l(e.actorsFilm,(function(t,i){return a("splide-slide",{key:i,staticClass:"filmCard"},[t.poster_path?a("img",{staticClass:"photoFilm",attrs:{src:"https://image.tmdb.org/t/p/w200/"+t.poster_path,alt:"photo"},on:{click:function(a){return e.handleActorsFilm(t)}}}):e._e(),a("div",{staticClass:"cardDescription"},[a("h5",[e._v(e._s(t.title))]),a("p",[e._v(e._s(t.overview.slice(0,100)))]),a("span",[e._v("Runtime "+e._s(e.selectedFilm.runtime)+" mn")]),a("span",[e._v("popularity: "+e._s(t.popularity))]),a("span",[e._v("vote average: "+e._s(t.vote_average))]),a("span",[e._v("vote count: "+e._s(t.vote_count))])])])})),1):e._e()],1)],1)},ke=[],Ee=(a("fb6a"),a("5e2b")),xe=(a("e50d"),{components:{Navbar:D,Splide:Ee["a"],SplideSlide:Ee["b"]},name:"Film",data:function(){return{actorsFilm:[],options:{rewind:!0,width:800,gap:"1rem"},youtubePath:"https://www.youtube.com/embed/"}},computed:Object(v["a"])({},Object(b["b"])(["selectedFilm","login","isFavoriteFilm","isSeenFilm"])),methods:{handleActor:function(e){var t=this;w.a.get("https://the-movie-factory-api.herokuapp.com/api/movie/person/".concat(e)).then(function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.data.results.slice(0,6);case 2:i=e.sent,t.actorsFilm=i;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))},addFavorite:function(e){for(var t=this.$store.state.login.getFavorite,a=!1,i=0;i<t.length;i++){var n=t[i];n.id==e.id&&(a=!0)}a||(this.$store.commit("addToFavorite",e),w.a.put("https://the-movie-factory-api.herokuapp.com/user/addfavorite",{email:this.login.getLoggedUser.email,filmId:e})),a&&(this.$store.commit("removeFavorite",e),w.a.put("https://the-movie-factory-api.herokuapp.com/user/removefavorite",{email:this.login.getLoggedUser.email,filmId:e})),this.$store.commit("toggleFavorite")},addToSeen:function(e){for(var t=this.$store.state.login.getSeen,a=!1,i=0;i<t.length;i++){var n=t[i];n.id==e.id&&(a=!0)}a||(this.$store.commit("addToSeen",e),w.a.put("https://the-movie-factory-api.herokuapp.com/user/seen",{email:this.login.getLoggedUser.email,filmId:e})),a&&(this.$store.commit("removeSeen",e),w.a.put("https://the-movie-factory-api.herokuapp.com/user/removeseen",{email:this.login.getLoggedUser.email,filmId:e})),this.$store.commit("toggleSeenFilm")},handleActorsFilm:function(e){var t=this;w.a.get("https://the-movie-factory-api.herokuapp.com/api/movie/".concat(e.id)).then(function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.data;case 2:i=e.sent,t.$store.dispatch("addFilm",i),t.actorsFilm=[];case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))}},mounted:function(){for(var e=this.login.getFavorite,t=this.login.getSeen,a=-1,i=0;i<e.length;i++)e[i].id==this.selectedFilm.id&&(a=i);-1==a&&this.isFavoriteFilm&&this.$store.commit("toggleFavorite"),-1!=a&&this.isFavoriteFilm&&this.$store.commit("toggleFavorite"),a=-1;for(var n=0;n<t.length;n++)t[n].id==this.selectedFilm.id&&(a=n);-1==a&&this.isSeenFilm&&this.$store.commit("toggleSeenFilm"),-1!=a&&this.isSeenFilm&&this.$store.commit("toggleFavorite")}}),Pe=xe,Oe=(a("93ab"),Object(c["a"])(Pe,Fe,ke,!1,null,"5f5c60d6",null)),je=Oe.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("navbar"),a("h2",[e._v(" Welcome "+e._s(e.login.getLoggedUser.username.toUpperCase())+" on your Profil Page ")]),a("div",{staticClass:"profilMain row m-0"},[a("profil-component",{staticClass:"col-2",attrs:{name:e.login.getLoggedUser.username,favoriteCount:e.login.getLoggedUser.favorite,seen:e.login.getLoggedUser.seen}}),a("div",{staticClass:"col-10"},[a("h3",{staticClass:"col-12 bg-dark"},[e._v("Favorites Film")]),a("div",{staticClass:"favoriteFilm row"},e._l(e.login.getFavorite,(function(e,t){return a("movie-card",{key:t,staticClass:"homeFilmCard col-6",attrs:{film:e,title:e.title,path:e.poster_path,description:e.overview,vote:e.vote_average}})})),1),a("h3",{staticClass:"col-12 bg-dark"},[e._v("Seen Film")]),a("div",{staticClass:"seenFilm row"},e._l(e.login.getSeen,(function(e,t){return a("movie-card",{key:t,staticClass:"homeFilmCard col-6",attrs:{film:e,title:e.title,path:e.poster_path,description:e.overview,vote:e.vote_average}})})),1)])],1)],1)},Se=[],Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"profilComponent"},[a("h5",[e._v(e._s(this.name))]),a("p",[e._v("favorite: "+e._s(this.favoriteCount.length))]),a("p",[e._v("seen: "+e._s(this.seen.length))])])},Le=[],Ue={data:function(){return{isFavoriteSelected:!0}},name:"profilComponent",props:["name","favoriteCount","seen"]},Me=Ue,Ie=(a("5033"),Object(c["a"])(Me,Re,Le,!1,null,"7bd2531e",null)),Ve=Ie.exports,Te={name:"ProfilPage",components:{Navbar:D,ProfilComponent:Ve,MovieCard:G},MovieCardata:function(){return{isFavoriteSelected:!0}},computed:Object(v["a"])({},Object(b["b"])(["login"]))},Ae=Te,Ne=(a("e56c"),Object(c["a"])(Ae,$e,Se,!1,null,"629e83a6",null)),Be=Ne.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main row"},[a("navbar"),a("h2",{staticClass:"col-12"},[e._v(" Welcome "+e._s(e.login.getLoggedUser.username.toUpperCase())+" inside the Community ")]),a("div",{staticClass:"row m-0"},e._l(e.getAllUser,(function(t,i){return a("profil-component",{key:i,staticClass:"users m-4",attrs:{name:t.username,favoriteCount:t.favorite,seen:t.seen},on:{click:function(t){return e.handleUserProfil()}}})})),1)],1)},ze=[],qe={name:"CommunityPage",components:{Navbar:D,ProfilComponent:Ve},computed:Object(v["a"])({},Object(b["b"])(["login","getAllUser"])),methods:{handleUserProfil:function(){}}},He=qe,Je=(a("8bdc"),Object(c["a"])(He,De,ze,!1,null,"5bc688ad",null)),Ze=Je.exports;i["default"].use(m["a"]);var We=[{path:"/",name:"Login",component:we},{path:"/home",name:"home",component:ne},{path:"/film",name:"Film",component:je},{path:"/profil",name:"profil",component:Be},{path:"/community",name:"community",component:Ze},{path:"/*",redirect:"/"}],Ye=new m["a"]({mode:"history",base:"/movie_factory/",routes:We}),Ge=Ye,Ke=a("4360"),Qe=a("5f5b"),Xe=a("b1e0");a("f9e3"),a("2dd8");a("ed18").config(),i["default"].use(Ee["c"]),i["default"].use(Qe["a"]),i["default"].use(Xe["a"]),i["default"].config.productionTip=!1,new i["default"]({router:Ge,store:Ke["a"],render:function(e){return e(u)}}).$mount("#app")},"592a":function(e,t,a){"use strict";a("05fa")},"5d97":function(e,t,a){},6245:function(e,t,a){},6333:function(e,t,a){"use strict";a("6865")},6865:function(e,t,a){},"7cb2":function(e,t,a){"use strict";a("09fa")},8127:function(e,t,a){},"85ec":function(e,t,a){},"886c":function(e,t,a){e.exports=a.p+"img/the-movie-factory.f7abe17b.png"},"89fd":function(e,t,a){e.exports=a.p+"img/homeLogo.9ae6945c.png"},"8bdc":function(e,t,a){"use strict";a("05c3")},"93ab":function(e,t,a){"use strict";a("cf16")},a283:function(e,t,a){"use strict";a("8127")},bdd8:function(e,t,a){"use strict";a("f17b")},cf16:function(e,t,a){},d650:function(e,t,a){},e56c:function(e,t,a){"use strict";a("5d97")},f17b:function(e,t,a){},f6a1:function(e,t,a){"use strict";a("6245")},fec7:function(e,t,a){}});
//# sourceMappingURL=app.04a22d1f.js.map